webdriver {
  driver = chrome
  capabilities {
    "goog:chromeOptions" {
      args = [
                 "start-maximized",
                 "--incognito",
                 "--no-sandbox",
                 "--disable-popup-blocking",
                 "--disable-dev-shm-usage",
                 "--disable-extensions",
                 "--ignore-certificate-errors",
                 "--remote-allow-origins=*",
                 "--user-data-dir=C:/temp/chrome-profile",
                 "--profile-directory=Default",
                 "--disable-notifications",
                 "--disable-infobars",
                 "--disable-default-apps",
                 "--no-first-run",
                 "--disable-background-timer-throttling",
                 "--disable-renderer-backgrounding",
                 "--disable-backgrounding-occluded-windows",
                 "--disable-password-generation",
                 "--disable-save-password-bubble",
                 "--disable-features=VizDisplayCompositor,PasswordManager,AutofillServerCommunication",
                 "--password-store=basic",
                 "--disable-password-manager-reauthentication",
                 "--disable-autofill",
                 "--disable-autofill-keyboard-accessory-view",
                 "--disable-single-click-autofill",
                 "--autofill-server-url=",
                 "--disable-password-leak-detection",
                 "--disable-features=PasswordLeakDetection"
               ]
      detach = true
      prefs = {
              "credentials_enable_service" = false
              "profile.password_manager_enabled" = false
              "profile.password_manager_leak_detection" = false
      }
      localState = {
        cart-contents = [1,2,3]
      }
    }
  }
}

#
# Define drivers for different platforms. Serenity will automatically pick the correct driver for the current platform
#
# drivers {
#   windows {
#     webdriver.chrome.driver = "src/test/resources/webdriver/windows/chromedriver.exe"
#     webdriver.gecko.driver = "src/test/resources/webdriver/windows/geckodriver.exe"
#   }
#   mac {
#     webdriver.chrome.driver = "src/test/resources/webdriver/mac/chromedriver"
#     webdriver.gecko.driver = "src/test/resources/webdriver/mac/geckodriver"
#   }
#   linux {
#     webdriver.chrome.driver = "src/test/resources/webdriver/linux/chromedriver"
#     webdriver.gecko.driver = "src/test/resources/webdriver/linux/geckodriver"
#   }
# }

#
# This section defines environment-specific configuration for different environments.
# You can define normal Serenity properties, such as webdriver.base.url, or custom ones
# You can find more details about this feature at https://johnfergusonsmart.com/environment-specific-configuration-in-serenity-bdd/
#


environments {
  default {
    webdriver.base.url = "https://www.saucedemo.com/"
  }
  dev {
    webdriver.base.url = "https://www.saucedemo.com/"
  }
  qa {
    webdriver.base.url = "https://www.saucedemo.com/"
  }
  prod {
    webdriver.base.url = "https://www.saucedemo.com/"
  }
  all {
    LoginSwagLabs.page = "#{webdriver.base.url}"
  }
}